<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>ORANGE FM - D.I.Y.</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <style>
      html {
        font-family: sans-serif;
        max-width: 600px;
      }

      h1, h2 {
        color: rgb(227, 147, 64);
      }

      h3, h4 {
        color: rgb(54, 124, 102);
      }

      a {
        color: rgb(54, 124, 102);
      }

      ul li {
        margin-bottom: 0.33rem;
      }

      section {
        margin: 1rem;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <h1>
      <img src="/logo.png" alt="Orange" width="300px"/>
    </h1>
    <section>
      <h2 style="font-size: 30px"> Orange FM - D.I.Y.</h2>

      <h3> PCB 2024-05-01 </h3>
      <ul>
        <li><a href="/public/orangefm-diy/orange-fm-bom-2024-05-01.pdf">Bill of Materials</a></li>
        <li><a href="https://www.digikey.com/en/mylists/list/DJZF1H27DH">DigiKey Parts List</a></li>
      </ul>

      <h4> Section Breakdown </h4>
      <a href="/public/orangefm-diy/orange-fm-breakdown-2024-05-01.jpg"><img src="/public/orangefm-diy/orange-fm-breakdown-2024-05-01.jpg" width="600"/></a>

      <h4> Bodges </h4>
      <p> To slightly improve reception with headphones/external antenna, I recommend installing L1 in the position shown in the breakdown image. You want it going from the left pad of C13 to the ground plane. This is optional, you can install L1 on the proper pads if you desire. But I recommend the bodge if you're up for it. </p>

      <h3> Recommended Workflow </h3>
      <ol>
        <li>Solder the atmega328pb, it's two decoupling cap, the crystal, and it's two supporting caps (<b>1</b>). </li>
        <li>Set the fuses on the atmega328pb, then flash the firmware. Make sure your programmer verifies the code was written correctly. </li>
        <li>Solder the flash memory chip, and it's decoupling cap (<b>2</b>).</li>
        <li>Flash the Orange FM ROM to the cart with GBxCart or a similar cart writer.</li>
        <li><b>Checkpoint</b> - At this point the cart should boot. Confirm the cart boots - the startup will get stuck at "BOOTING COMM", this is expected. </li>
        <li>Solder the digital logic section between the atmega and the flash chip, including supporting caps and resistors (<b>3</b>). </li>
        <li><b>Checkpoint</b> - Now try the cart again - it should now fully boot up into the radio display, and the current station will be shown as 143.3 (or a similar nonsense station). This means the ROM and atmega are successfully talking to each other from the digital logic section!</li>
        <li>Next, solder the middle radio section and support circuitry (<b>4</b>).</li>
        <li><b>Checkpoint</b> - The cart should now be able to talk to the radio chip, and should be able to tune to stations. You should see valid stations showing up. Try seeking with "A" to confirm functionality. At this point, there will be no sound output.</li>
        <li>Solder the cart output section (<b>5</b>). </li>
        <li><b>Checkpoint</b> - The cart should now have audio output through the Game Boy on systems that support it!</li>
        <li>Finally, solder the headphone amp section (<b>6</b>), and set the HP AMP solder jumper.</li>
        <li><b>Checkpoint</b> - The cart should now have headphone amp output! Press "B + Start" to turn on the amp.</li>
      </ol>

      <h3> Shell Trimming </h3>
      <p> To fit the Orange FM PCB into a shell, you'll need to trim part of the plastic off the shell to fit the headphone jack. A Game Boy Color style cart shell is the easiest to trim, but you can also use a original Game Boy style shell. Here are some photos of the trims required for a Game Boy Color style shell (Click to view larger).</p>

      <div style="width: 700px">
        <a href="/public/orangefm-diy/cgb-shell-trim-back.jpg"><img src="/public/orangefm-diy/cgb-shell-trim-back.jpg" width="300"/></a>
        <a href="/public/orangefm-diy/cgb-shell-trim-front.jpg"><img src="/public/orangefm-diy/cgb-shell-trim-front.jpg" width="300"/></a>
        <a href="/public/orangefm-diy/cgb-shell-trim.jpg"><img src="/public/orangefm-diy/cgb-shell-trim.jpg" width="300"/></a>
      </div>
    </section>
  </body>
</html>
